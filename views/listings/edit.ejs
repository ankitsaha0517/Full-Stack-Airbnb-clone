<% layout('/layouts/boilerplate.ejs') -%>
<body>

    <div class="row">
        <div class="col-8 offset-2">
            <h3 class="mb-4">Update A Listing</h3>
            <form action="/listing/<%=listing._id%>?_method=PUT" method="POST" novalidate class="needs-validation" enctype="multipart/form-data">

                <div class="mb-3">
                    <label class="form-label" for="title">Title:</label>
                    <input class="form-control" type="text" id="title" name="listing[title]" value="<%=listing.title%>" required>
                    <div class="invalid-feedback">
                        Please enter title
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label" for="description">Description:</label>
                    <textarea class="form-control" id="description" name="listing[description]"
                    rows="4" cols="50" required><%=listing.description%></textarea>
                    <div class="invalid-feedback">
                        Please enter description
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3 col-5">
                        <div class="card" style="width: 18rem;">
                            <img src="<%=slatedImg%>" class="card-img-top" alt="...">
                          </div>
                    </div>
                    <div class="mb-3 col-7">
                        <div class="mb-3">
                            <label class="form-label" for="category">Category:</label>
                            <select class="form-control"  id="category" name="listing[category]" required>
                                <option value="<%=listing.category%>"selected hidden><%=listing.category%></option>
                                <option value="Trending">Trending</option>
                                <option value="Summer">Summer</option>
                                <option value="Luxe">Luxe</option>
                                <option value="Amazing view">Amazing View</option>
                                <option value="Island">Island</option>
                                <option value="Boats">Boats</option>
                                <option value="Cabins">Cabins</option>
                                <option value="Tiny homes">Tiny homes</option>
                                <option value="Bed & breakfasts">Bed & breakfasts</option>
                                <option value="Games">Games</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a category
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="image">Upload Image File:</label>
                            <input class="form-control" type="file" id="image" name="listing[image]" placeholder="Choose File">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3 col-4">
                        <label class="form-label" for="price">Price:</label>
                        <input class="form-control" type="number" id="price" name="listing[price]" value="<%=listing.price%>" required>
                        <div class="invalid-feedback">
                            Please enter price
                        </div>
                    </div>
                    <div class="mb-3 col-4">
                        <label class="form-label" for="location">Location:</label>
                        <input class="form-control" type="text" id="location" name="listing[location]" value="<%=listing.location%>" required>
                        <div class="invalid-feedback">
                            Please enter location
                        </div>
                    </div>
                    <div class="mb-3 col-4">
                        <label class="form-label" for="country">Country:</label>
                        <input class="form-control" type="text" id="country" name="listing[country]" value="<%=listing.country%>" required>
                        <div class="invalid-feedback">
                            Please enter country
                        </div>
                    </div>
                    
                </div>
                <button class="btn btn-color mt-2" type="submit">UPDATE</button>
            </form>
        </div>
    </div>


    
    
</body>
